<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>demo water-basic</title>
	<style type="text/css">
		.water-basic {
			position: relative;
		}
		.item {
			position: absolute;
			width: 200px;
			margin: 5px;
			transition: all 1s;
			border: 1px solid red;
		}
	</style>
	<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
<div class="water-basic">
	<img class="item" src="image/leftNav.png" data-src="image/logo.jpg" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/addIcon.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/hf.jpg" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/musicList.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/preSong.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/nextSong.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/songList.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/startSong.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/logo.jpg" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/addIcon.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/hf.jpg" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/musicList.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/preSong.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/nextSong.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/songList.png" alt="">
	<img class="item" src="image/leftNav.png" data-src="image/startSong.png" alt="">
</div>


<script type="text/javascript">



function init(){
	var nodeWidth = $(".item").outerWidth(true),
		colNum = parseInt( $(window).width() / nodeWidth ),
		colSumHeight = [];
	for (var i=0;i<colNum;i++) {
		colSumHeight.push(0);
	}
	$(".item").each(function(){
		var $cur = $(this),
			idx = 0,
			minSumHeight = colSumHeight[0];
		// 获取到solSumHeight中的最小高度
		for (var i=0;i<colSumHeight.length;i++) {
			if (minSumHeight > colSumHeight[i]) {
				minSumHeight = colSumHeight[i];
				idx = i;
			}
		}
		// 设置各个item的css属性
		$cur.css({
			left: nodeWidth*idx,
			top: minSumHeight
		})
		// 更新solSumHeight
		colSumHeight[idx] = colSumHeight[idx] + $cur.outerHeight(true);
	})
}
// 设置窗口改变时也能重新加载
$(window).on("resize", function(){
	init();
})
init()





	// var waterBasic = (function(){
	// 	function init(){
	// 		// debugger
	// 		var nodeWidth = $(".item").outerWidth(true),
	// 			colNum = parseInt( $(window).width() / nodeWidth ),
	// 			colSumHeight = [];
	// 		for (var i=0;i<colNum;i++) {
	// 			colSumHeight.push(0);
	// 		}
	// 		$(".item").each(function(){
	// 			var $cur = $(this),
	// 				idx = 0,
	// 				minSumHeight = colSumHeight[0];
	// 			// 获取到solSumHeight中的最小高度
	// 			for (var i=0;i<colSumHeight.length;i++) {
	// 				if (minSumHeight > colSumHeight[i]) {
	// 					minSumHeight = colSumHeight[i];
	// 					idx = i;
	// 				}
	// 			}
	// 			// 设置各个item的css属性
	// 			$cur.css({
	// 				left: nodeWidth*idx,
	// 				top: minSumHeight
	// 			})
	// 			// 更新solSumHeight
	// 			colSumHeight[idx] = colSumHeight[idx] + $cur.outerHeight(true);
	// 		})
	// 	}
	// 	// 设置窗口改变时也能重新加载
	// 	$(window).on("resize", function(){
	// 		init();
	// 	})
	// 	return {
	// 		init: init
	// 	}
	// })();
	// waterBasic.init();
</script>
</body>
</html>